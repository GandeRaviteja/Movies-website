<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieZone - Find Your Next Favorite Movie</title>
    <style>
        :root {
            --bg-1: #0B0F13;
            --bg-2: #0F1720;
            --accent: #E50914;
            --card: rgba(255, 255, 255, 0.03);
            --muted: #9AA4AD;
            --text: #EEF2F6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            color: var(--text);
            background: linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 100%);
            background-attachment: fixed;
        }

        body::before {
            content: "";
            position: fixed;
            inset: 0;
            pointer-events: none;
            background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0) 40%, rgba(0, 0, 0, 0.55) 100%), url('data:image/svg+xml;utf8,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h10v10H0zM20 20h10v10H20zM40 40h10v10H40zM60 60h10v10H60zM80 80h10v10H80z" fill="rgba(255,255,255,0.02)" /></svg>');
            mix-blend-mode: multiply;
            opacity: 0.8;
        }

        header {
            background: rgba(10, 12, 14, 0.6);
            backdrop-filter: blur(6px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 28px;
            position: sticky;
            top: 0;
            z-index: 40;
            box-shadow: 0 4px 18px rgba(0, 0, 0, 0.6);
        }

        header h1 {
            color: var(--accent);
            font-weight: 700;
            font-size: 20px;
        }

        nav ul {
            list-style: none;
            display: flex;
            align-items: center;
            gap: 25px;
        }

        nav a {
            text-decoration: none;
            color: #ccc;
            font-weight: 500;
            transition: color 0.3s ease, transform 0.2s ease;
        }
        
        nav a.active {
            color: var(--accent);
            border-bottom: 2px solid var(--accent);
            padding-bottom: 2px;
        }

        nav a:not(.active):hover {
            color: var(--accent);
            transform: translateY(-2px);
        }

        nav button {
            background: none;
            border: none;
            color: var(--text);
            cursor: pointer;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease, color 0.3s ease;
        }

        nav button:hover {
            transform: translateY(-2px);
            color: var(--accent);
        }
        
        .hero {
            min-height: 50vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px;
            flex-direction: column;
        }

        .hero h2 {
            font-size: clamp(32px, 5vw, 48px);
            margin-bottom: 15px;
            white-space: nowrap;
            border-right: 3px solid var(--accent);
            overflow: hidden;
            animation: blink-caret 0.75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to {
                border-color: transparent;
            }
            50% {
                border-color: var(--accent);
            }
        }

        .hero p {
            color: #ccc;
            margin-bottom: 20px;
        }

        .hero .search-container {
            display: flex;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .hero input {
            padding: 12px;
            width: 250px;
            border: none;
            background: #1a1a1a;
            color: var(--text);
            outline: none;
            font-size: 16px;
            transition: box-shadow 0.3s ease;
        }

        .hero input:focus {
            box-shadow: inset 0 0 5px rgba(229, 9, 20, 0.5);
        }

        .hero input::placeholder {
            color: var(--muted);
            opacity: 1;
            transition: opacity 0.3s ease;
        }
        
        .hero input:focus::placeholder {
            opacity: 0;
        }

        .hero button {
            padding: 12px 20px;
            border: none;
            background: var(--accent);
            color: #fff;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
        }

        .hero button:hover {
            background: #b20710;
            transform: translateY(-2px);
        }

        .filters {
            padding: 40px 30px;
        }

        .filters h3 {
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .filters select {
            background: #1a1a1a;
            color: var(--text);
            padding: 10px;
            margin-right: 10px;
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            appearance: none;
            background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="%239AA4AD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>');
            background-repeat: no-repeat;
            background-position: right 10px center;
        }

        main {
            padding: 20px 30px 60px;
        }
        
        .section-title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--accent);
            padding-left: 1rem;
        }

        .movies-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 25px;
        }

        .card {
            background: var(--card);
            border: 1px solid rgba(255, 255, 255, 0.04);
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.3s ease;
            cursor: pointer;
        }

        .card:hover {
            transform: scale(1.05);
            box-shadow: 0 18px 40px rgba(2, 6, 10, 0.6);
        }

        .card img {
            width: 100%;
            display: block;
            height: 270px;
            object-fit: cover;
        }

        .card .info {
            padding: 15px;
            text-align: center;
        }

        .card h3 {
            font-size: 16px;
            margin-bottom: 5px;
            color: var(--text);
        }

        .card p {
            font-size: 14px;
            color: var(--muted);
        }

        footer {
            background: #111;
            text-align: center;
            padding: 20px;
            color: #aaa;
        }

        @media (max-width: 600px) {
            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px 20px;
            }

            .hero {
                padding: 20px;
            }

            .hero h2 {
                font-size: 28px;
            }

            .hero .search-container {
                flex-direction: column;
                width: 100%;
                max-width: 300px;
            }

            .hero input, .hero button {
                width: 100%;
                border-radius: 5px;
            }

            .hero input {
                margin-bottom: 10px;
            }

            .filters {
                padding: 20px;
            }

            .filters select {
                width: 100%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>

    <header>
        <h1>🎬 MovieZone</h1>
        <nav>
            <ul>
                <li><a href="first.html" class="active">Home</a></li>
                <li><a href="genres.html">Genres</a></li>
                <li><a href="#">Top Rated</a></li>
                <li><a href="#">About</a></li>
                <li>
                    <button id="menu-toggle" aria-label="Toggle menu">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                </li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <h2 id="typewriter"></h2>
        <p id="movie-quote"></p>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search movies...">
            <button id="searchButton">Search</button>
        </div>
    </section>

    <section class="filters">
        <h3>Filter by</h3>
        <select id="genreFilter">
            <option value="">Genre</option>
        </select>
        <select id="yearFilter">
            <option value="">Year</option>
        </select>
        <select id="ratingFilter">
            <option value="">Rating</option>
        </select>
    </section>

    <main>
        <h2 id="movie-list-title" class="section-title">Trending Now</h2>
        <div id="movies-container" class="movies-container"></div>
    </main>

    <footer>
        © 2025 MovieZone. All Rights Reserved.
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const API_KEY = 'YOUR_TMDB_API_KEY_HERE';
            const moviesContainer = document.getElementById('movies-container');
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const navLinks = document.querySelectorAll('nav a');
            const heroQuote = document.getElementById('movie-quote');
            const movieListTitle = document.getElementById('movie-list-title');
            
            const typingText = "Find Your Next Favorite Movie";
            const typewriterElement = document.getElementById("typewriter");
            let charIndex = 0;

            const movieQuotes = [
                "Life is like a box of chocolates. You never know what you're gonna get.",
                "To infinity and beyond!",
                "May the Force be with you.",
                "There's no place like home.",
                "Why so serious?",
                "I'm king of the world!"
            ];

            const getRandomQuote = () => {
                const randomIndex = Math.floor(Math.random() * movieQuotes.length);
                heroQuote.textContent = movieQuotes[randomIndex];
            };

            function typeWriter() {
                if (charIndex < typingText.length) {
                    typewriterElement.textContent += typingText.charAt(charIndex);
                    charIndex++;
                    setTimeout(typeWriter, 100);
                } else {
                    typewriterElement.style.borderRight = 'none';
                    heroQuote.style.opacity = 0;
                    setTimeout(() => {
                        heroQuote.style.transition = 'opacity 1s ease-in';
                        heroQuote.style.opacity = 1;
                    }, 500);
                }
            }
            typeWriter();
            getRandomQuote();

            const fetchMovies = async (url) => {
                try {
                    const response = await fetch(url);
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    const data = await response.json();
                    displayMovies(data.results);
                } catch (error) {
                    console.error('There was a problem fetching the movies:', error);
                    moviesContainer.innerHTML = '<p style="text-align: center; padding: 2rem;">Sorry, we could not load the movies at this time. Please check your API key and network connection.</p>';
                }
            };

            const displayMovies = (movies) => {
                moviesContainer.innerHTML = '';
                if (movies.length === 0) {
                    moviesContainer.innerHTML = '<p style="text-align: center; padding: 2rem;">No movies found for your search.</p>';
                }
                movies.forEach(movie => {
                    const movieCard = document.createElement('div');
                    movieCard.classList.add('card');
                    const imagePath = movie.poster_path ? `https://image.tmdb.org/t/p/w300${movie.poster_path}` : 'https://via.placeholder.com/300x450.png?text=No+Image+Found';
                    const rating = movie.vote_average ? movie.vote_average.toFixed(1) : 'N/A';
                    
                    movieCard.innerHTML = `
                        <img src="${imagePath}" alt="${movie.title} Poster">
                        <div class="info">
                            <h3>${movie.title}</h3>
                            <p>⭐ ${rating}</p>
                        </div>
                    `;
                    moviesContainer.appendChild(movieCard);
                });
            };

            const fetchTrendingMovies = () => {
                const url = `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}`;
                fetchMovies(url);
                movieListTitle.textContent = "Trending Now";
            };

            const fetchTollywoodMoviesByGenre = (genreId, genreName) => {
                const url = `https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&with_genres=${genreId}&with_original_language=te&sort_by=popularity.desc`;
                fetchMovies(url);
                movieListTitle.textContent = `Tollywood ${genreName} Movies`;
            };

            searchButton.addEventListener('click', () => {
                const query = searchInput.value;
                if (query) {
                    const url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${encodeURIComponent(query)}`;
                    fetchMovies(url);
                    movieListTitle.textContent = `Search Results for "${query}"`;
                } else {
                    fetchTrendingMovies();
                }
            });

            searchInput.addEventListener('keypress', (event) => {
                if (event.key === 'Enter') {
                    searchButton.click();
                }
            });

            const urlParams = new URLSearchParams(window.location.search);
            const genreId = urlParams.get('genreId');
            const genreName = urlParams.get('genreName');

            if (genreId && genreName) {
                fetchTollywoodMoviesByGenre(genreId, genreName);
            } else {
                fetchTrendingMovies();
            }
        });
    </script>
</body>
</html>